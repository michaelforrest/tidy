#!/usr/bin/env ruby
#
require 'rubygems'
require 'optparse'
require File.dirname(__FILE__) + '/../lib/tidy_project'

def fail_with(opts, message)
  puts "[ERROR] #{message}"
  puts ""
  puts opts
  exit
end

parser = OptionParser.new do |options|
  options.banner = <<-BANNER
  
    Tidy is an ActionScript toolkit for people who love Ruby.
    See http://github.com/michaelforrest/tidy
    
    Usage: #{File.basename($0)} APP_PATH
           cd APP_PATH
           rake
          
  BANNER
  
  options.separator ""
  
#  options.on("-v", "--verbose", "Show what it's doing") do
#    OPTIONS[:verbose] = true
#  end
  
  
end

if ARGV.length >= 1
  TidyProject.new(ARGV[0])
else
  puts parser.banner
end